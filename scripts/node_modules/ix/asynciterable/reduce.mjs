export async function reduce(source, accumulator, ...seed) {
    const hasSeed = seed.length === 1;
    let i = 0, hasValue = false, acc = seed[0];
    for await (let item of source) {
        if (hasValue || (hasValue = hasSeed)) {
            acc = await accumulator(acc, item, i++);
        }
        else {
            acc = item;
            hasValue = true;
            i++;
        }
    }
    if (!(hasSeed || hasValue)) {
        throw new Error('Sequence contains no elements');
    }
    return acc;
}

//# sourceMappingURL=reduce.mjs.map
