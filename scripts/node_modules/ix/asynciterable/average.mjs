import { identityAsync } from '../internal/identity';
export async function average(source, selector = identityAsync) {
    let sum = 0;
    let count = 0;
    for await (let item of source) {
        sum += await selector(item);
        count++;
    }
    if (count === 0) {
        throw new Error('Empty collection');
    }
    return sum / count;
}

//# sourceMappingURL=average.mjs.map
